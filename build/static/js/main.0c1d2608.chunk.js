(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{22:function(e,t,n){e.exports=n(33)},23:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);n(23);var a=n(0),o=n.n(a),l=n(19),r=n.n(l),c=n(7),i=n(8),u=n(10),s=n(9),p=n(11),h=n(5),m=n(12),d=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"landing"},o.a.createElement("p",null,"Welcome to the FIFO Adoption Center!  We have many wonderful pets for you to adopt!  To begin the adoption process, please proceed to our adoption page. Once there you will be able to see the pets that are currently available for adoption.  Due to our strict first in first out policies, you will only be able to see one cat and one dog at a time. If you choose to become the new forever home for one of our lovable animals, you can join the line of potential adopters by entering your name at the bottom of the adoption page. Once you have joined the line, you will be able to see the pets being adopted and where you are in the line in relation to the front. Once you have reached the front of the line, you will see an option to adopt either the dog or the cat at the front of the line. Please make your decision, and the pet will be yours to take home and love! In the future we hope to be able to provide the option to adopt BOTH a cat AND a dog at the same time, but for now, if your desire is to bring diversity to your home by adopting both, please go through the process twice!"),o.a.createElement("img",{id:"adoption",src:"https://cdn.abcotvs.com/dip/images/5760725_dogadoption.JPG?w=1600",alt:"really cute dog getting adopted"}),o.a.createElement(m.b,{className:"link",to:"/AdoptionPage"},"See available pets!"))}}]),t}(a.Component),f="https://petful-cd.herokuapp.com",g=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={dog:{},cat:{},people:[],currentUser:null,animal:!0},n.updatePeople=function(){fetch("".concat(f,"/people")).then((function(e){return e.json()})).then((function(e){console.log(e),n.setState({people:e})}))},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(f,"/pets")).then((function(e){return e.json()})).then((function(t){e.setState({dog:t[1],cat:t[0]})})),this.updatePeople()}},{key:"adoptThePet",value:function(e){e.preventDefault();var t={type:e.target.id};this.fetchCalls(t)}},{key:"fetchCalls",value:function(e){var t=this;fetch("".concat(f,"/pets"),{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(){return fetch("".concat(f,"/pets"))})).then((function(e){return e.json()})).then((function(e){return t.setState({dog:e[1],cat:e[0]}),fetch("".concat(f,"/people"))})).then((function(e){return e.json()})).then((function(e){console.log(e),t.setState({people:e})}))}},{key:"fillTheQueue",value:function(){var e=this,t=[{Name:"Malcolm Reynolds"},{Name:"River Tam"},{Name:"Kaylee Frye"},{Name:"Hoban Washburne"}],n=3;this.state.people.push(t[n].Name);var a=setInterval((function(){fetch("".concat(f,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t[n--])}).then((function(){e.updatePeople()})),4===e.state.people.length&&clearInterval(a)}),5e3)}},{key:"onJoinLineClick",value:function(e){e.preventDefault();var t={Name:e.target.name.value};console.log(e.target.name.value);var n=this.state.people;n.push(e.target.name.value),fetch("".concat(f,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}),this.setState({people:n,currentUser:e.target.name.value});var a=this,o=setInterval((function(){var e;e=!0===a.state.animal?{type:"cats"}:{type:"dogs"},a.fetchCalls(e),a.setState({animal:!a.state.animal}),a.state.people[1]===a.state.currentUser&&clearInterval(o)}),5e3);e.target.name.value=""}},{key:"render",value:function(){var e=this,t=this.state.dog,n=this.state.cat,a=this.state.people;return a[0]===this.state.currentUser&&1===a.length&&this.fillTheQueue(),o.a.createElement("div",{id:"pets"},o.a.createElement("div",{className:"dog-info"},o.a.createElement("h2",null,t.name),o.a.createElement("img",{src:t.imageURL,alt:t.description}),o.a.createElement("p",null,t.description),o.a.createElement("ul",null,o.a.createElement("li",null,t.gender),o.a.createElement("li",null,t.age),o.a.createElement("li",null,t.breed)),o.a.createElement("p",null,t.story),this.state.currentUser&&this.state.currentUser===a[0]&&o.a.createElement("form",{id:"dog"},o.a.createElement("button",{id:"dogs",onClick:function(t){return e.adoptThePet(t)}},"Adopt Me!"))),o.a.createElement("div",{className:"cat-info"},o.a.createElement("h2",null,n.name),o.a.createElement("img",{src:n.imageURL,alt:n.description}),o.a.createElement("p",null,n.description),o.a.createElement("ul",null,o.a.createElement("li",null,n.gender),o.a.createElement("li",null,n.age),o.a.createElement("li",null,n.breed)),o.a.createElement("p",null,n.story),this.state.currentUser&&this.state.currentUser===a[0]&&o.a.createElement("form",{id:"cat"},o.a.createElement("button",{id:"cats",onClick:function(t){return e.adoptThePet(t)}},"Adopt Me!"))),o.a.createElement("div",{className:"form"},o.a.createElement("p",null,"If you would like to adopt a pet, please join the back of the line!"),o.a.createElement("ul",null,a.map((function(e,t){return o.a.createElement("li",{key:t},e)}))),o.a.createElement("form",{onSubmit:function(t){return e.onJoinLineClick(t)}},o.a.createElement("label",{htmlFor:"name"}),o.a.createElement("input",{id:"name",placeholder:"Your name eg. John Smith",required:!0}),o.a.createElement("button",null,"Join the line!"))))}}]),t}(a.Component),y=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Petful"),o.a.createElement(h.c,null,o.a.createElement(h.a,{exact:!0,path:"/",component:d}),o.a.createElement(h.a,{path:"/AdoptionPage",component:g})))}}]),t}(a.Component);r.a.render(o.a.createElement(m.a,null,o.a.createElement(y,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.0c1d2608.chunk.js.map